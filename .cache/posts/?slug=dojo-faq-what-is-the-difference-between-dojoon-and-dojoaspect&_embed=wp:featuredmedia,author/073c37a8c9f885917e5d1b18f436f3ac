{"value":{"body":"[{\"id\":8187,\"date\":\"2014-03-26T10:01:01\",\"date_gmt\":\"2014-03-26T17:01:01\",\"guid\":{\"rendered\":\"https://www.sitepen.com/blog/?p=8187\"},\"modified\":\"2014-03-26T10:01:01\",\"modified_gmt\":\"2014-03-26T17:01:01\",\"slug\":\"dojo-faq-what-is-the-difference-between-dojoon-and-dojoaspect\",\"status\":\"publish\",\"type\":\"post\",\"link\":\"https://wp.sitepen.com/blog/dojo-faq-what-is-the-difference-between-dojoon-and-dojoaspect/\",\"title\":{\"rendered\":\"Dojo FAQ: What is the difference between dojo/on and dojo/aspect?\"},\"content\":{\"rendered\":\"<p><img src=\\\"https://wp.sitepen.com/wp-content/uploads/2013/09/DojoFAQ.png\\\" alt=\\\"DojoFAQ\\\" width=\\\"200\\\" height=\\\"200\\\" style=\\\"margin:20px 0 20px 20px; float:right;\\\" /></p>\\n<p><code>dojo/on</code> and <code>dojo/aspect</code> are two APIs that appear to do similar jobs but actually serve two different purposes. <code>dojo/on</code> is used to setup event listeners for DOM nodes and event-emitting objects. <code>dojo/aspect</code> provides Aspect Oriented Programming facilities so functionality can be run before, after, or around a method call and can even manipulate the input to the original method or the original method&#8217;s output.<!--more--></p>\\n<h2><code>dojo/on</code></h2>\\n<p><code>dojo/on</code> is the general purpose event module and can be used to listen for events on DOM nodes and event-emitting objects. The most basic use is to set up an event listener on an element directly or to use event delegation.</p>\\n<pre class=\\\"brush: plain; title: ; notranslate\\\" title=\\\"\\\">require([\\n\\t'dojo/on',\\n\\t'dojo/query'\\n], function (on) {\\n\\tvar actionButton = document.getElementById('actionButton');\\n\\t// add event listener directly to a DOM Node\\n\\ton(actionButton, 'click', function () {\\n\\t\\tconsole.log('button clicked');\\n\\t});\\n\\n\\t// use event delegation to listen for events\\n\\ton(document, '.button:click', function () {\\n\\t\\tconsole.log('button clicked');\\n\\t});\\n});</pre>\\n<p><code>dojo/on</code> can also be used to set up listeners for events emitted from objects that inherit from <code>dojo/Evented</code>. These objects gain an <code>emit</code> method, which can be used to trigger a custom event.</p>\\n<pre class=\\\"brush: plain; title: ; notranslate\\\" title=\\\"\\\">require([\\n\\t'dojo/_base/declare',\\n\\t'dojo/Evented',\\n\\t'dojo/on'\\n], function (declare, Evented, on) {\\n\\tvar MyClass = declare(Evented, {\\n\\t\\trun: function () {\\n\\t\\t\\tthis.emit('custom-event', { name: 'world' });\\n\\t\\t}\\n\\t});\\n\\n\\tvar c = new MyClass();\\n\\n\\ton(c, 'custom-event', function (data) {\\n\\t\\tconsole.log('hello, ' + data.name);\\n\\t});\\n\\n\\tc.run();\\n});</pre>\\n<h2><code>dojo/aspect</code></h2>\\n<p>On the other hand, <code>dojo/aspect</code> can be used in a number of ways to run code before, after, or around a method call. For example, if we have a <code>rand</code> object that has a method <code>getNumber</code> which returns a random number in a given range, we can use <code>aspect.after</code> to call a new method after the original method is executed and change the return value to be a little less random:</p>\\n<pre class=\\\"brush: plain; title: ; notranslate\\\" title=\\\"\\\">var div = document.querySelector('#result'),\\n    after = document.querySelector('#after');\\nrequire([\\n    'dojo/aspect'\\n], function (aspect) {\\n    var rand = {\\n        getNumber: function (min, max) {\\n            return Math.floor(Math.random() * (max - min + 1)) + min;\\n        }\\n    };\\n\\n    aspect.after(rand, 'getNumber', function (value) {\\n        console.log('actual result ' + value);\\n        return 4;\\n    });\\n\\n    console.log('returned result ' + rand.getNumber(3, 10));\\n});</pre>\\n<p>Similarly, we could use <code>aspect.before</code> to execute code before <code>getNumber</code> is called and return an array, changing the arguments that are passed to the original function:</p>\\n<pre class=\\\"brush: plain; title: ; notranslate\\\" title=\\\"\\\">require([\\n    'dojo/aspect'\\n], function (aspect) {\\n    var rand = {\\n        getNumber: function (min, max) {\\n            return Math.floor(Math.random() * (max - min + 1)) + min;\\n        }\\n    };\\n\\n    aspect.before(rand, 'getNumber', function (min, max) {\\n        console.log('original arguments: ' + min + ', ' + max);\\n        return [6, 16];\\n    });\\n\\n    console.log('returned result: ' + rand.getNumber(20, 30));\\n});</pre>\\n<p>Finally, <code>aspect.around</code> can be used to return a function to replace the original method. This new method can then conditionally call the original method if necessary:</p>\\n<pre class=\\\"brush: plain; title: ; notranslate\\\" title=\\\"\\\">require([\\n    'dojo/aspect'\\n], function (aspect) {\\n    var rand = {\\n        getNumber: function (min, max) {\\n            console.log('original method called');\\n            return Math.floor(Math.random() * (max - min + 1)) + min;\\n        }\\n    };\\n\\n    aspect.around(rand, 'getNumber', function (origMethod) {\\n        return function (min, max) {\\n            if (min === max) {\\n                console.log('not calling original method');\\n                return min;\\n            }\\n            // only call the original method if min !== max\\n            return origMethod(min, max);\\n        };\\n    });\\n\\n    console.log('returned result: ' + rand.getNumber(20, 20));\\n});</pre>\\n<p>As you can see, <code>dojo/on</code> is a useful utility for listening for events from the DOM or event-emitting objects, while <code>dojo/aspect</code> is useful for injecting code before, after, or around the original method call.</p>\\n\",\"protected\":false},\"excerpt\":{\"rendered\":\"<p>dojo/on and dojo/aspect are two APIs that appear to do similar jobs but actually serve two different purposes. dojo/on is used to setup event listeners for DOM nodes and event-emitting objects. dojo/aspect provides Aspect Oriented Programming facilities so functionality can be run before, after, or around a method call and can even manipulate the input [&hellip;]</p>\\n\",\"protected\":false},\"author\":49,\"featured_media\":8167,\"comment_status\":\"closed\",\"ping_status\":\"closed\",\"sticky\":false,\"template\":\"\",\"format\":\"standard\",\"meta\":{\"spay_email\":\"\"},\"categories\":[45,380],\"tags\":[],\"jetpack_featured_media_url\":\"\",\"yoast_head\":\"<!-- This site is optimized with the Yoast SEO plugin v14.3 - https://yoast.com/wordpress/plugins/seo/ -->\\n<title>Dojo FAQ: What is the difference between dojo/on and dojo/aspect? | SitePen</title>\\n<meta name=\\\"robots\\\" content=\\\"index, follow\\\" />\\n<meta name=\\\"googlebot\\\" content=\\\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\\\" />\\n<meta name=\\\"bingbot\\\" content=\\\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\\\" />\\n<link rel=\\\"canonical\\\" href=\\\"https://www.sitepen.com/blog/dojo-faq-what-is-the-difference-between-dojoon-and-dojoaspect/\\\" />\\n<meta property=\\\"og:locale\\\" content=\\\"en_US\\\" />\\n<meta property=\\\"og:type\\\" content=\\\"article\\\" />\\n<meta property=\\\"og:title\\\" content=\\\"Dojo FAQ: What is the difference between dojo/on and dojo/aspect? | SitePen\\\" />\\n<meta property=\\\"og:description\\\" content=\\\"dojo/on and dojo/aspect are two APIs that appear to do similar jobs but actually serve two different purposes. dojo/on is used to setup event listeners for DOM nodes and event-emitting objects. dojo/aspect provides Aspect Oriented Programming facilities so functionality can be run before, after, or around a method call and can even manipulate the input [&hellip;]\\\" />\\n<meta property=\\\"og:url\\\" content=\\\"https://www.sitepen.com/blog/dojo-faq-what-is-the-difference-between-dojoon-and-dojoaspect/\\\" />\\n<meta property=\\\"og:site_name\\\" content=\\\"SitePen\\\" />\\n<meta property=\\\"article:publisher\\\" content=\\\"https://www.facebook.com/SitePen\\\" />\\n<meta property=\\\"article:published_time\\\" content=\\\"2014-03-26T17:01:01+00:00\\\" />\\n<meta property=\\\"og:image\\\" content=\\\"https://wp.sitepen.com/wp-content/uploads/2020/01/og_imageV1.jpg\\\" />\\n\\t<meta property=\\\"og:image:width\\\" content=\\\"1600\\\" />\\n\\t<meta property=\\\"og:image:height\\\" content=\\\"900\\\" />\\n<meta name=\\\"twitter:card\\\" content=\\\"summary_large_image\\\" />\\n<meta name=\\\"twitter:creator\\\" content=\\\"@nicknisi\\\" />\\n<meta name=\\\"twitter:site\\\" content=\\\"@SitePen\\\" />\\n<script type=\\\"application/ld+json\\\" class=\\\"yoast-schema-graph\\\">{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@graph\\\":[{\\\"@type\\\":\\\"WebSite\\\",\\\"@id\\\":\\\"https://wp.sitepen.com/#website\\\",\\\"url\\\":\\\"https://wp.sitepen.com/\\\",\\\"name\\\":\\\"SitePen\\\",\\\"description\\\":\\\"Enterprise Web Apps Done Right\\\",\\\"potentialAction\\\":[{\\\"@type\\\":\\\"SearchAction\\\",\\\"target\\\":\\\"https://wp.sitepen.com/?s={search_term_string}\\\",\\\"query-input\\\":\\\"required name=search_term_string\\\"}],\\\"inLanguage\\\":\\\"en-US\\\"},{\\\"@type\\\":\\\"ImageObject\\\",\\\"@id\\\":\\\"https://www.sitepen.com/blog/dojo-faq-what-is-the-difference-between-dojoon-and-dojoaspect/#primaryimage\\\",\\\"inLanguage\\\":\\\"en-US\\\",\\\"url\\\":\\\"\\\"},{\\\"@type\\\":\\\"WebPage\\\",\\\"@id\\\":\\\"https://www.sitepen.com/blog/dojo-faq-what-is-the-difference-between-dojoon-and-dojoaspect/#webpage\\\",\\\"url\\\":\\\"https://www.sitepen.com/blog/dojo-faq-what-is-the-difference-between-dojoon-and-dojoaspect/\\\",\\\"name\\\":\\\"Dojo FAQ: What is the difference between dojo/on and dojo/aspect? | SitePen\\\",\\\"isPartOf\\\":{\\\"@id\\\":\\\"https://wp.sitepen.com/#website\\\"},\\\"primaryImageOfPage\\\":{\\\"@id\\\":\\\"https://www.sitepen.com/blog/dojo-faq-what-is-the-difference-between-dojoon-and-dojoaspect/#primaryimage\\\"},\\\"datePublished\\\":\\\"2014-03-26T17:01:01+00:00\\\",\\\"dateModified\\\":\\\"2014-03-26T17:01:01+00:00\\\",\\\"author\\\":{\\\"@id\\\":\\\"https://wp.sitepen.com/#/schema/person/a3dab67869cc373e7d76f2a68cd1c4fa\\\"},\\\"inLanguage\\\":\\\"en-US\\\",\\\"potentialAction\\\":[{\\\"@type\\\":\\\"ReadAction\\\",\\\"target\\\":[\\\"https://www.sitepen.com/blog/dojo-faq-what-is-the-difference-between-dojoon-and-dojoaspect/\\\"]}]},{\\\"@type\\\":[\\\"Person\\\"],\\\"@id\\\":\\\"https://wp.sitepen.com/#/schema/person/a3dab67869cc373e7d76f2a68cd1c4fa\\\",\\\"name\\\":\\\"Nick Nisi\\\",\\\"image\\\":{\\\"@type\\\":\\\"ImageObject\\\",\\\"@id\\\":\\\"https://wp.sitepen.com/#personlogo\\\",\\\"inLanguage\\\":\\\"en-US\\\",\\\"url\\\":\\\"https://secure.gravatar.com/avatar/c966c387cbade49b970ad43d47d472a9?s=96&d=mm&r=g\\\",\\\"caption\\\":\\\"Nick Nisi\\\"},\\\"sameAs\\\":[\\\"https://twitter.com/nicknisi\\\"]}]}</script>\\n<!-- / Yoast SEO plugin. -->\",\"_links\":{\"self\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/posts/8187\"}],\"collection\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/posts\"}],\"about\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/types/post\"}],\"author\":[{\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/users/49\"}],\"replies\":[{\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/comments?post=8187\"}],\"version-history\":[{\"count\":0,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/posts/8187/revisions\"}],\"wp:featuredmedia\":[{\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/media/8167\"}],\"wp:attachment\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/media?parent=8187\"}],\"wp:term\":[{\"taxonomy\":\"category\",\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/categories?post=8187\"},{\"taxonomy\":\"post_tag\",\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/tags?post=8187\"}],\"curies\":[{\"name\":\"wp\",\"href\":\"https://api.w.org/{rel}\",\"templated\":true}]},\"_embedded\":{\"author\":[{\"id\":49,\"name\":\"Nick Nisi\",\"url\":\"https://www.sitepen.com\",\"description\":\"\",\"link\":\"https://wp.sitepen.com/blog/author/nnisi/\",\"slug\":\"nnisi\",\"avatar_urls\":{\"24\":\"https://secure.gravatar.com/avatar/c966c387cbade49b970ad43d47d472a9?s=24&d=mm&r=g\",\"48\":\"https://secure.gravatar.com/avatar/c966c387cbade49b970ad43d47d472a9?s=48&d=mm&r=g\",\"96\":\"https://secure.gravatar.com/avatar/c966c387cbade49b970ad43d47d472a9?s=96&d=mm&r=g\"},\"yoast_head\":\"<!-- This site is optimized with the Yoast SEO plugin v14.3 - https://yoast.com/wordpress/plugins/seo/ -->\\n<title>Nick Nisi, Author at SitePen</title>\\n<meta name=\\\"robots\\\" content=\\\"noindex, follow\\\" />\\n<meta property=\\\"og:locale\\\" content=\\\"en_US\\\" />\\n<meta property=\\\"og:type\\\" content=\\\"profile\\\" />\\n<meta property=\\\"og:title\\\" content=\\\"Nick Nisi, Author at SitePen\\\" />\\n<meta property=\\\"og:url\\\" content=\\\"https://www.sitepen.com/blog/author/nnisi/\\\" />\\n<meta property=\\\"og:site_name\\\" content=\\\"SitePen\\\" />\\n<meta property=\\\"og:image\\\" content=\\\"https://secure.gravatar.com/avatar/c966c387cbade49b970ad43d47d472a9?s=500&#038;d=mm&#038;r=g\\\" />\\n<meta name=\\\"twitter:card\\\" content=\\\"summary_large_image\\\" />\\n<meta name=\\\"twitter:site\\\" content=\\\"@SitePen\\\" />\\n<script type=\\\"application/ld+json\\\" class=\\\"yoast-schema-graph\\\">{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@graph\\\":[{\\\"@type\\\":\\\"WebSite\\\",\\\"@id\\\":\\\"https://wp.sitepen.com/#website\\\",\\\"url\\\":\\\"https://wp.sitepen.com/\\\",\\\"name\\\":\\\"SitePen\\\",\\\"description\\\":\\\"Enterprise Web Apps Done Right\\\",\\\"potentialAction\\\":[{\\\"@type\\\":\\\"SearchAction\\\",\\\"target\\\":\\\"https://wp.sitepen.com/?s={search_term_string}\\\",\\\"query-input\\\":\\\"required name=search_term_string\\\"}],\\\"inLanguage\\\":\\\"en-US\\\"},{\\\"@type\\\":\\\"ProfilePage\\\",\\\"@id\\\":\\\"https://www.sitepen.com/blog/author/nnisi/#webpage\\\",\\\"url\\\":\\\"https://www.sitepen.com/blog/author/nnisi/\\\",\\\"name\\\":\\\"Nick Nisi, Author at SitePen\\\",\\\"isPartOf\\\":{\\\"@id\\\":\\\"https://wp.sitepen.com/#website\\\"},\\\"inLanguage\\\":\\\"en-US\\\"},{\\\"@type\\\":[\\\"Person\\\"],\\\"@id\\\":\\\"https://wp.sitepen.com/#/schema/person/a3dab67869cc373e7d76f2a68cd1c4fa\\\",\\\"name\\\":\\\"Nick Nisi\\\",\\\"image\\\":{\\\"@type\\\":\\\"ImageObject\\\",\\\"@id\\\":\\\"https://wp.sitepen.com/#personlogo\\\",\\\"inLanguage\\\":\\\"en-US\\\",\\\"url\\\":\\\"https://secure.gravatar.com/avatar/c966c387cbade49b970ad43d47d472a9?s=96&d=mm&r=g\\\",\\\"caption\\\":\\\"Nick Nisi\\\"},\\\"sameAs\\\":[\\\"https://twitter.com/nicknisi\\\"],\\\"mainEntityOfPage\\\":{\\\"@id\\\":\\\"https://www.sitepen.com/blog/author/nnisi/#webpage\\\"}}]}</script>\\n<!-- / Yoast SEO plugin. -->\",\"_links\":{\"self\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/users/49\"}],\"collection\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/users\"}]}}],\"wp:featuredmedia\":[{\"code\":\"rest_post_invalid_id\",\"message\":\"Invalid post ID.\",\"data\":{\"status\":404}}]}}]","headers":[["access-control-allow-headers","Authorization, Content-Type"],["access-control-expose-headers","X-WP-Total, X-WP-TotalPages"],["allow","GET"],["cf-cache-status","DYNAMIC"],["cf-ray","5a7752b9ea00e698-LHR"],["cf-request-id","037e7208320000e698b100a200000001"],["connection","close"],["content-encoding","gzip"],["content-type","application/json; charset=UTF-8"],["date","Mon, 22 Jun 2020 16:25:04 GMT"],["expect-ct","max-age=604800, report-uri=\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\""],["link","<https://wp.sitepen.com/wp-json/>; rel=\"https://api.w.org/\""],["server","cloudflare"],["set-cookie","__cfduid=d81c186c3a5fab31dfba9f99fb097f6811592843104; expires=Wed, 22-Jul-20 16:25:04 GMT; path=/; domain=.sitepen.com; HttpOnly; SameSite=Lax"],["transfer-encoding","chunked"],["vary","Origin"],["x-content-type-options","nosniff"],["x-robots-tag","noindex"],["x-wp-total","1"],["x-wp-totalpages","1"]]},"type":"Object"}