{"value":{"body":"[{\"id\":93,\"date\":\"2007-07-12T20:37:53\",\"date_gmt\":\"2007-07-13T01:37:53\",\"guid\":{\"rendered\":\"https://www.sitepen.com/blog/2007/07/12/filling-the-iphone-chat-gap/\"},\"modified\":\"2007-07-12T20:37:53\",\"modified_gmt\":\"2007-07-13T01:37:53\",\"slug\":\"filling-the-iphone-chat-gap\",\"status\":\"publish\",\"type\":\"post\",\"link\":\"https://wp.sitepen.com/blog/filling-the-iphone-chat-gap/\",\"title\":{\"rendered\":\"Filling the iPhone Chat Gap\"},\"content\":{\"rendered\":\"<p><a href=\\\"http://comet.sitepen.com:9000/tests/iphone/\\\"><img id=\\\"image94\\\" src=\\\"https://wp.sitepen.com/wp-content/uploads/2007/07/iphone_chat.png\\\" alt=\\\"iphone_chat.png\\\" style=\\\"float:right;margin: 0 0 0.5em 0.5em;border:none;\\\"/></a> Many people are perplexed by the absence of instant messaging on the iPhone. Apple has done great things for SMS with their ichat styled interface. Unfortunately they stopped short of providing a seamless IM experience.  Hopefully Apple will add these features in a future software update.\\n</p>\\n<p>The <a href=\\\"http://www.barcamp.org/iPhoneDevCamp\\\">iPhoneDevCamp</a> in San Francisco last weekend saw several groups working to fill the IM gap by building iPhone compatible IM web applications. I spent part of my time there revising the existing cometd chat app to work well on the the iPhone. Comet&#8217;s long-running http connections are ideally suited for chat apps as it provides very low latency. We had already tested <a href=\\\"https://www.sitepen.com/blog/2007/07/02/cometd-on-the-iphone/\\\">cometd on the iPhone<a/>, so I was encouraged about the ease of porting the existing chat demo.\\n</p>\\n<p><!--more--></p>\\n<p> I started with the existing <a href=\\\"http://comet.sitepen.com:9000/tests/chat/\\\">dojo 0.9 chat</a> app.  It functioned on the iPhone without modification.  However some changes to the user interface were needed to make it usable on a small screen:</p>\\n<ul>\\n<li>converted behavior calls to dojo.connect()&#8211;made the app 100% dojo and reduced the the load size by around 8K</li>\\n<li>used the Joe Hewitt&#8217;s trick&#8211;setTimeout(function(){window.scrollTo(0, 1);}, 100);&#8211;to hide the large url bar after the page loads</li>\\n<li>Used the CSS and image from <a href=\\\"http://www.joehewitt.com/blog/introducing_iui.php\\\">Joe&#8217;s iUI lib</a> for the title bar. This added about 180 bytes to the page size</li>\\n<li>Set the <a href=\\\"http://developer.apple.com/iphone/designingcontent.html\\\">viewport meta tag</a> to size the page correctly for the phone and prevent the need to zoom and pan</li>\\n<li>moved the chat input box to the top of the screen so that it will always be visible even when the keyboard is displayed in landscape mode</li>\\n<li>used the onblur() event to send chat messages when the user clicks the done button from the keyboard</li>\\n<li>reversed the order of chat messages so the newest are at the top of the page. This way users will be able to see the latest messages while typing their own response.</li>\\n</ul>\\n<p>The final result is weighs in at about 100K. On Edge that is about a ten second load time. The largest pieces were the 70k for dojo.js and 20K for cometd.js.  If gzip compression was turned on then it would be a lot less&#8211;24K for dojo.js and 5K for cometd.js.  While heading to the airport after iPhoneDevCamp concluded </p>\\n<p>Check out the live demo of <a href=\\\"http://comet.sitepen.com:9000/tests/iphone/\\\">iPhone chat</a>. Because the iPhone does not currently offer a mechanism for screen or video capture, the movie was was recorded using mini-dv mounted on a tripod. If you plan on doing a demo of your app on a iPhone or other mobile phone to a large audience make sure to use a camcorder mounted on something solid.</p>\\n<p>Hopefully Apple will release a fully integrated IM app into their existing SMS app soon.  Until then low latency http solutions like comet will help fill the gap in the iPhone application suite.</p>\\n\",\"protected\":false},\"excerpt\":{\"rendered\":\"<p>Many people are perplexed by the absence of instant messaging on the iPhone. Apple has done great things for SMS with their ichat styled interface. Unfortunately they stopped short of providing a seamless IM experience. Hopefully Apple will add these features in a future software update. The iPhoneDevCamp in San Francisco last weekend saw several [&hellip;]</p>\\n\",\"protected\":false},\"author\":18,\"featured_media\":17449,\"comment_status\":\"closed\",\"ping_status\":\"closed\",\"sticky\":false,\"template\":\"\",\"format\":\"standard\",\"meta\":{\"spay_email\":\"\"},\"categories\":[46,44,45,47,43],\"tags\":[],\"series\":[],\"jetpack_featured_media_url\":\"\",\"yoast_head\":\"<!-- This site is optimized with the Yoast SEO plugin v14.4.1 - https://yoast.com/wordpress/plugins/seo/ -->\\n<title>Filling the iPhone Chat Gap | SitePen</title>\\n<meta name=\\\"robots\\\" content=\\\"index, follow\\\" />\\n<meta name=\\\"googlebot\\\" content=\\\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\\\" />\\n<meta name=\\\"bingbot\\\" content=\\\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\\\" />\\n<link rel=\\\"canonical\\\" href=\\\"https://www.sitepen.com/blog/filling-the-iphone-chat-gap/\\\" />\\n<meta property=\\\"og:locale\\\" content=\\\"en_US\\\" />\\n<meta property=\\\"og:type\\\" content=\\\"article\\\" />\\n<meta property=\\\"og:title\\\" content=\\\"Filling the iPhone Chat Gap | SitePen\\\" />\\n<meta property=\\\"og:description\\\" content=\\\"Many people are perplexed by the absence of instant messaging on the iPhone. Apple has done great things for SMS with their ichat styled interface. Unfortunately they stopped short of providing a seamless IM experience. Hopefully Apple will add these features in a future software update. The iPhoneDevCamp in San Francisco last weekend saw several [&hellip;]\\\" />\\n<meta property=\\\"og:url\\\" content=\\\"https://www.sitepen.com/blog/filling-the-iphone-chat-gap/\\\" />\\n<meta property=\\\"og:site_name\\\" content=\\\"SitePen\\\" />\\n<meta property=\\\"article:publisher\\\" content=\\\"https://www.facebook.com/SitePen\\\" />\\n<meta property=\\\"article:published_time\\\" content=\\\"2007-07-13T01:37:53+00:00\\\" />\\n<meta property=\\\"og:image\\\" content=\\\"https://wp.sitepen.com/wp-content/uploads/2020/01/og_imageV1.jpg\\\" />\\n\\t<meta property=\\\"og:image:width\\\" content=\\\"1600\\\" />\\n\\t<meta property=\\\"og:image:height\\\" content=\\\"900\\\" />\\n<meta name=\\\"twitter:card\\\" content=\\\"summary_large_image\\\" />\\n<meta name=\\\"twitter:creator\\\" content=\\\"@SitePen\\\" />\\n<meta name=\\\"twitter:site\\\" content=\\\"@SitePen\\\" />\\n<script type=\\\"application/ld+json\\\" class=\\\"yoast-schema-graph\\\">{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@graph\\\":[{\\\"@type\\\":\\\"WebSite\\\",\\\"@id\\\":\\\"https://wp.sitepen.com/#website\\\",\\\"url\\\":\\\"https://wp.sitepen.com/\\\",\\\"name\\\":\\\"SitePen\\\",\\\"description\\\":\\\"Enterprise Web Apps Done Right\\\",\\\"potentialAction\\\":[{\\\"@type\\\":\\\"SearchAction\\\",\\\"target\\\":\\\"https://wp.sitepen.com/?s={search_term_string}\\\",\\\"query-input\\\":\\\"required name=search_term_string\\\"}],\\\"inLanguage\\\":\\\"en-US\\\"},{\\\"@type\\\":\\\"ImageObject\\\",\\\"@id\\\":\\\"https://www.sitepen.com/blog/filling-the-iphone-chat-gap/#primaryimage\\\",\\\"inLanguage\\\":\\\"en-US\\\",\\\"url\\\":\\\"\\\"},{\\\"@type\\\":\\\"WebPage\\\",\\\"@id\\\":\\\"https://www.sitepen.com/blog/filling-the-iphone-chat-gap/#webpage\\\",\\\"url\\\":\\\"https://www.sitepen.com/blog/filling-the-iphone-chat-gap/\\\",\\\"name\\\":\\\"Filling the iPhone Chat Gap | SitePen\\\",\\\"isPartOf\\\":{\\\"@id\\\":\\\"https://wp.sitepen.com/#website\\\"},\\\"primaryImageOfPage\\\":{\\\"@id\\\":\\\"https://www.sitepen.com/blog/filling-the-iphone-chat-gap/#primaryimage\\\"},\\\"datePublished\\\":\\\"2007-07-13T01:37:53+00:00\\\",\\\"dateModified\\\":\\\"2007-07-13T01:37:53+00:00\\\",\\\"author\\\":{\\\"@id\\\":\\\"https://wp.sitepen.com/#/schema/person/3fdd879295009f98b33cc20eca4307bd\\\"},\\\"inLanguage\\\":\\\"en-US\\\",\\\"potentialAction\\\":[{\\\"@type\\\":\\\"ReadAction\\\",\\\"target\\\":[\\\"https://www.sitepen.com/blog/filling-the-iphone-chat-gap/\\\"]}]},{\\\"@type\\\":[\\\"Person\\\"],\\\"@id\\\":\\\"https://wp.sitepen.com/#/schema/person/3fdd879295009f98b33cc20eca4307bd\\\",\\\"name\\\":\\\"Jason Cline\\\",\\\"image\\\":{\\\"@type\\\":\\\"ImageObject\\\",\\\"@id\\\":\\\"https://wp.sitepen.com/#personlogo\\\",\\\"inLanguage\\\":\\\"en-US\\\",\\\"url\\\":\\\"https://secure.gravatar.com/avatar/ab3211fe6a89c8d6ae68fd26661b3764?s=96&d=mm&r=g\\\",\\\"caption\\\":\\\"Jason Cline\\\"}}]}</script>\\n<!-- / Yoast SEO plugin. -->\",\"_links\":{\"self\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/posts/93\"}],\"collection\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/posts\"}],\"about\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/types/post\"}],\"author\":[{\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/users/18\"}],\"replies\":[{\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/comments?post=93\"}],\"version-history\":[{\"count\":0,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/posts/93/revisions\"}],\"wp:featuredmedia\":[{\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/media/17449\"}],\"wp:attachment\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/media?parent=93\"}],\"wp:term\":[{\"taxonomy\":\"category\",\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/categories?post=93\"},{\"taxonomy\":\"post_tag\",\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/tags?post=93\"},{\"taxonomy\":\"series\",\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/series?post=93\"}],\"curies\":[{\"name\":\"wp\",\"href\":\"https://api.w.org/{rel}\",\"templated\":true}]},\"_embedded\":{\"author\":[{\"id\":18,\"name\":\"Jason Cline\",\"url\":\"https://www.sitepen.com\",\"description\":\"\",\"link\":\"https://wp.sitepen.com/blog/author/jcline/\",\"slug\":\"jcline\",\"avatar_urls\":{\"24\":\"https://secure.gravatar.com/avatar/ab3211fe6a89c8d6ae68fd26661b3764?s=24&d=mm&r=g\",\"48\":\"https://secure.gravatar.com/avatar/ab3211fe6a89c8d6ae68fd26661b3764?s=48&d=mm&r=g\",\"96\":\"https://secure.gravatar.com/avatar/ab3211fe6a89c8d6ae68fd26661b3764?s=96&d=mm&r=g\"},\"yoast_head\":\"<!-- This site is optimized with the Yoast SEO plugin v14.4.1 - https://yoast.com/wordpress/plugins/seo/ -->\\n<title>Jason Cline, Author at SitePen</title>\\n<meta name=\\\"robots\\\" content=\\\"noindex, follow\\\" />\\n<meta property=\\\"og:locale\\\" content=\\\"en_US\\\" />\\n<meta property=\\\"og:type\\\" content=\\\"profile\\\" />\\n<meta property=\\\"og:title\\\" content=\\\"Jason Cline, Author at SitePen\\\" />\\n<meta property=\\\"og:url\\\" content=\\\"https://www.sitepen.com/blog/author/jcline/\\\" />\\n<meta property=\\\"og:site_name\\\" content=\\\"SitePen\\\" />\\n<meta property=\\\"og:image\\\" content=\\\"https://secure.gravatar.com/avatar/ab3211fe6a89c8d6ae68fd26661b3764?s=500&#038;d=mm&#038;r=g\\\" />\\n<meta name=\\\"twitter:card\\\" content=\\\"summary_large_image\\\" />\\n<meta name=\\\"twitter:site\\\" content=\\\"@SitePen\\\" />\\n<script type=\\\"application/ld+json\\\" class=\\\"yoast-schema-graph\\\">{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@graph\\\":[{\\\"@type\\\":\\\"WebSite\\\",\\\"@id\\\":\\\"https://wp.sitepen.com/#website\\\",\\\"url\\\":\\\"https://wp.sitepen.com/\\\",\\\"name\\\":\\\"SitePen\\\",\\\"description\\\":\\\"Enterprise Web Apps Done Right\\\",\\\"potentialAction\\\":[{\\\"@type\\\":\\\"SearchAction\\\",\\\"target\\\":\\\"https://wp.sitepen.com/?s={search_term_string}\\\",\\\"query-input\\\":\\\"required name=search_term_string\\\"}],\\\"inLanguage\\\":\\\"en-US\\\"},{\\\"@type\\\":\\\"ProfilePage\\\",\\\"@id\\\":\\\"https://www.sitepen.com/blog/author/jcline/#webpage\\\",\\\"url\\\":\\\"https://www.sitepen.com/blog/author/jcline/\\\",\\\"name\\\":\\\"Jason Cline, Author at SitePen\\\",\\\"isPartOf\\\":{\\\"@id\\\":\\\"https://wp.sitepen.com/#website\\\"},\\\"inLanguage\\\":\\\"en-US\\\"},{\\\"@type\\\":[\\\"Person\\\"],\\\"@id\\\":\\\"https://wp.sitepen.com/#/schema/person/3fdd879295009f98b33cc20eca4307bd\\\",\\\"name\\\":\\\"Jason Cline\\\",\\\"image\\\":{\\\"@type\\\":\\\"ImageObject\\\",\\\"@id\\\":\\\"https://wp.sitepen.com/#personlogo\\\",\\\"inLanguage\\\":\\\"en-US\\\",\\\"url\\\":\\\"https://secure.gravatar.com/avatar/ab3211fe6a89c8d6ae68fd26661b3764?s=96&d=mm&r=g\\\",\\\"caption\\\":\\\"Jason Cline\\\"},\\\"mainEntityOfPage\\\":{\\\"@id\\\":\\\"https://www.sitepen.com/blog/author/jcline/#webpage\\\"}}]}</script>\\n<!-- / Yoast SEO plugin. -->\",\"_links\":{\"self\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/users/18\"}],\"collection\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/users\"}]}}],\"wp:featuredmedia\":[{\"code\":\"rest_post_invalid_id\",\"message\":\"Invalid post ID.\",\"data\":{\"status\":404}}]}}]","headers":[["access-control-allow-headers","Authorization, Content-Type"],["access-control-expose-headers","X-WP-Total, X-WP-TotalPages"],["allow","GET"],["cf-cache-status","DYNAMIC"],["cf-ray","5a80897ae88406d5-LHR"],["cf-request-id","03843440ce000006d502018200000001"],["connection","close"],["content-encoding","gzip"],["content-type","application/json; charset=UTF-8"],["date","Tue, 23 Jun 2020 19:15:19 GMT"],["expect-ct","max-age=604800, report-uri=\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\""],["link","<https://wp.sitepen.com/wp-json/>; rel=\"https://api.w.org/\""],["server","cloudflare"],["set-cookie","__cfduid=d546dc8312470d428e94172396c6d22b21592939718; expires=Thu, 23-Jul-20 19:15:18 GMT; path=/; domain=.sitepen.com; HttpOnly; SameSite=Lax"],["transfer-encoding","chunked"],["vary","Origin"],["x-content-type-options","nosniff"],["x-robots-tag","noindex"],["x-wp-total","1"],["x-wp-totalpages","1"]]},"type":"Object"}