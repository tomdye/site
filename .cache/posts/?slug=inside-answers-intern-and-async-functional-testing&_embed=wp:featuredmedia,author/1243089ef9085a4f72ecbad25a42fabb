{"value":{"body":"[{\"id\":13099,\"date\":\"2016-09-20T05:43:33\",\"date_gmt\":\"2016-09-20T12:43:33\",\"guid\":{\"rendered\":\"https://www.sitepen.com/blog/?p=13099\"},\"modified\":\"2016-09-20T05:43:33\",\"modified_gmt\":\"2016-09-20T12:43:33\",\"slug\":\"inside-answers-intern-and-async-functional-testing\",\"status\":\"publish\",\"type\":\"post\",\"link\":\"https://wp.sitepen.com/blog/inside-answers-intern-and-async-functional-testing/\",\"title\":{\"rendered\":\"Inside Answers: Intern and async functional testing\"},\"content\":{\"rendered\":\"<p>SitePen Support is a service used by companies to improve the productivity and efficiency of their enterprise development teams. Our customers often ask questions about best practices when using various development tools for modern JavaScript and TypeScript development. Recently, we were asked to better explain some of the asynchronous syntax used by Intern. For example, where to put a <code>.end()</code> statement and where to resolve promises with Intern. Here was our response!</p>\\n<p><!--more--></p>\\n<p><img class=\\\"align center size-full\\\" src=\\\"https://wp.sitepen.com/wp-content/uploads/2016/09/intern-and-async-functional-testing-image-1.jpg\\\" alt=\\\"intern-and-async-functional-testing-image-1\\\" width=\\\"100%\\\" /></p>\\n<p>When writing functional tests, a <a href=\\\"https://theintern.github.io/leadfoot/\\\">Leadfoot</a> Command object is exposed at <code>this.remote</code> to automate tasks that would normally be performed manually to test an application. Methods include common operations like finding elements, pressing keys, getting attributes, and clicking onscreen components.</p>\\n<h2>When to use <code>.then</code></h2>\\n<p>Using this Command object, operations can be chained together that will execute in order one after another. Because every operation performed on a Command object is asynchronous, a then callback should be used to access the value of the previous method in the chain. Consider the following example:</p>\\n<pre class=\\\"brush: jscript; title: ; notranslate\\\" title=\\\"\\\">\\nthis.remote\\n    .get('http://example.com')\\n    .findByTagName('h1')\\n        .getVisibleText()\\n        .then(function (text) {\\n            assert.strictEqual(text, 'Example Domain');\\n        })\\n        .end();\\n</pre>\\n<p>This simple test gets an HTML page, finds the first <code>&lt;h1&gt;</code> element, and asserts that the visible text is equal to a known value. A <code>then</code> callback is needed in this case to access the visible text value after the call to <code>getVisibleText</code>.</p>\\n<h2>When to use <code>.end</code></h2>\\n<p>When writing functional tests, Command methods can be divided into two different types of operations: <code>session</code> operations and <code>element</code> operations. Session operations act on the entire browser and include tasks like navigating to a given URL, moving the mouse cursor, or getting and setting local storage keys. Element operations act on a specific element on the currently-loaded page and include tasks such as getting visible text, typing into form fields, and accessing HTML attributes.</p>\\n<p>Session interactions can be performed at any time within a test, from anywhere within the Command chain. The mouse can be moved regardless of the command that came previously, for instance. Conversely, element interactions first require that one or more elements be retrieved. This is usually done by using any of the <code>find</code> or <code>findAll</code> methods, the <code>getActiveElement</code> method, or by returning elements from the <code>execute</code> or <code>executeAsync</code> callbacks. Consider the same example from above once more:</p>\\n<pre class=\\\"brush: jscript; title: ; notranslate\\\" title=\\\"\\\">\\nthis.remote\\n\\t.get('http://example.com')\\n\\t// Pushes the\\n&lt;h1&gt; element onto the context stack\\n\\t.findByTagName('h1')\\n\\t\\t.getVisibleText()\\n\\t\\t.then(function (text) {\\n\\t\\t\\tassert.strictEqual(text, 'Example Domain');\\n\\t\\t})\\n\\t\\t// Pops the\\n&lt;h1&gt; off of the context stack\\n\\t\\t.end();\\n</pre>\\n<p>The call to <code>get</code> is considered a session interaction since it is page-wide and does not operate on a specific element. After the page has loaded, the first <code>&lt;h1&gt;</code> element is retrieved. All commands thereafter, such as <code>getVisibleText</code>, are considered element interactions since they operate on this <code>&lt;h1&gt;</code> element. Any operation that retrieves an element, like <code>findByTagName</code>, push that element onto the context stack. This means that subsequent operations that use an element, like <code>click</code>, will operate on the top-level element in the stack. Calling <code>end</code> just pops the most recent element off the stack. Multiple elements can be popped off with <code>end(count)</code>, and <code>end(Infinity)</code> will pop all elements off the stack.</p>\\n<h2>Async flexibility</h2>\\n<p>The <code>end</code> and <code>then</code> APIs provide significant asynchronous flexibility within Intern&#8217;s functional testing APIs, while keeping the overall API as simple and lightweight as possible. Understanding how the context stack, Command chain, session and element operations work provide key insight into using these APIs efficiently.</p>\\n<p><img class=\\\"align center size-full\\\" src=\\\"https://wp.sitepen.com/wp-content/uploads/2016/09/intern-and-async-functional-testing-image-2.jpg\\\" alt=\\\"intern-and-async-functional-testing-image-1\\\" width=\\\"100%\\\" /></p>\\n<h2>Expert support</h2>\\n<p>We answer questions like this for our customers in <a href=\\\"https://www.sitepen.com/services/\\\">SitePen Support</a> along with providing bug fixes, advice, and front-end web development for the most popular developer tools and libraries. <a href=\\\"https://www.sitepen.com/contact\\\">Contact us</a> to learn more about how we can support your development team!</p>\\n\",\"protected\":false},\"excerpt\":{\"rendered\":\"<p>SitePen Support is a service used by companies to improve the productivity and efficiency of their enterprise development teams. Our customers often ask questions about best practices when using various development tools for modern JavaScript and TypeScript development. Recently, we were asked to better explain some of the asynchronous syntax used by Intern. For example, [&hellip;]</p>\\n\",\"protected\":false},\"author\":46,\"featured_media\":13169,\"comment_status\":\"closed\",\"ping_status\":\"closed\",\"sticky\":false,\"template\":\"\",\"format\":\"standard\",\"meta\":{\"spay_email\":\"\"},\"categories\":[375,3,11],\"tags\":[395],\"jetpack_featured_media_url\":\"\",\"yoast_head\":\"<!-- This site is optimized with the Yoast SEO plugin v14.3 - https://yoast.com/wordpress/plugins/seo/ -->\\n<title>Inside Answers: Intern and async functional testing | SitePen</title>\\n<meta name=\\\"robots\\\" content=\\\"index, follow\\\" />\\n<meta name=\\\"googlebot\\\" content=\\\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\\\" />\\n<meta name=\\\"bingbot\\\" content=\\\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\\\" />\\n<link rel=\\\"canonical\\\" href=\\\"https://www.sitepen.com/blog/inside-answers-intern-and-async-functional-testing/\\\" />\\n<meta property=\\\"og:locale\\\" content=\\\"en_US\\\" />\\n<meta property=\\\"og:type\\\" content=\\\"article\\\" />\\n<meta property=\\\"og:title\\\" content=\\\"Inside Answers: Intern and async functional testing | SitePen\\\" />\\n<meta property=\\\"og:description\\\" content=\\\"SitePen Support is a service used by companies to improve the productivity and efficiency of their enterprise development teams. Our customers often ask questions about best practices when using various development tools for modern JavaScript and TypeScript development. Recently, we were asked to better explain some of the asynchronous syntax used by Intern. For example, [&hellip;]\\\" />\\n<meta property=\\\"og:url\\\" content=\\\"https://www.sitepen.com/blog/inside-answers-intern-and-async-functional-testing/\\\" />\\n<meta property=\\\"og:site_name\\\" content=\\\"SitePen\\\" />\\n<meta property=\\\"article:publisher\\\" content=\\\"https://www.facebook.com/SitePen\\\" />\\n<meta property=\\\"article:published_time\\\" content=\\\"2016-09-20T12:43:33+00:00\\\" />\\n<meta property=\\\"og:image\\\" content=\\\"https://wp.sitepen.com/wp-content/uploads/2020/01/og_imageV1.jpg\\\" />\\n\\t<meta property=\\\"og:image:width\\\" content=\\\"1600\\\" />\\n\\t<meta property=\\\"og:image:height\\\" content=\\\"900\\\" />\\n<meta name=\\\"twitter:card\\\" content=\\\"summary_large_image\\\" />\\n<meta name=\\\"twitter:creator\\\" content=\\\"@SitePen\\\" />\\n<meta name=\\\"twitter:site\\\" content=\\\"@SitePen\\\" />\\n<script type=\\\"application/ld+json\\\" class=\\\"yoast-schema-graph\\\">{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@graph\\\":[{\\\"@type\\\":\\\"WebSite\\\",\\\"@id\\\":\\\"https://wp.sitepen.com/#website\\\",\\\"url\\\":\\\"https://wp.sitepen.com/\\\",\\\"name\\\":\\\"SitePen\\\",\\\"description\\\":\\\"Enterprise Web Apps Done Right\\\",\\\"potentialAction\\\":[{\\\"@type\\\":\\\"SearchAction\\\",\\\"target\\\":\\\"https://wp.sitepen.com/?s={search_term_string}\\\",\\\"query-input\\\":\\\"required name=search_term_string\\\"}],\\\"inLanguage\\\":\\\"en-US\\\"},{\\\"@type\\\":\\\"ImageObject\\\",\\\"@id\\\":\\\"https://www.sitepen.com/blog/inside-answers-intern-and-async-functional-testing/#primaryimage\\\",\\\"inLanguage\\\":\\\"en-US\\\",\\\"url\\\":\\\"\\\"},{\\\"@type\\\":\\\"WebPage\\\",\\\"@id\\\":\\\"https://www.sitepen.com/blog/inside-answers-intern-and-async-functional-testing/#webpage\\\",\\\"url\\\":\\\"https://www.sitepen.com/blog/inside-answers-intern-and-async-functional-testing/\\\",\\\"name\\\":\\\"Inside Answers: Intern and async functional testing | SitePen\\\",\\\"isPartOf\\\":{\\\"@id\\\":\\\"https://wp.sitepen.com/#website\\\"},\\\"primaryImageOfPage\\\":{\\\"@id\\\":\\\"https://www.sitepen.com/blog/inside-answers-intern-and-async-functional-testing/#primaryimage\\\"},\\\"datePublished\\\":\\\"2016-09-20T12:43:33+00:00\\\",\\\"dateModified\\\":\\\"2016-09-20T12:43:33+00:00\\\",\\\"author\\\":{\\\"@id\\\":\\\"https://wp.sitepen.com/#/schema/person/7a3e92a258cea881b49680a18b593d71\\\"},\\\"inLanguage\\\":\\\"en-US\\\",\\\"potentialAction\\\":[{\\\"@type\\\":\\\"ReadAction\\\",\\\"target\\\":[\\\"https://www.sitepen.com/blog/inside-answers-intern-and-async-functional-testing/\\\"]}]},{\\\"@type\\\":[\\\"Person\\\"],\\\"@id\\\":\\\"https://wp.sitepen.com/#/schema/person/7a3e92a258cea881b49680a18b593d71\\\",\\\"name\\\":\\\"Paul Bouchon\\\",\\\"image\\\":{\\\"@type\\\":\\\"ImageObject\\\",\\\"@id\\\":\\\"https://wp.sitepen.com/#personlogo\\\",\\\"inLanguage\\\":\\\"en-US\\\",\\\"url\\\":\\\"https://secure.gravatar.com/avatar/89cb35910e3b9fed1219d3669a454387?s=96&d=mm&r=g\\\",\\\"caption\\\":\\\"Paul Bouchon\\\"}}]}</script>\\n<!-- / Yoast SEO plugin. -->\",\"_links\":{\"self\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/posts/13099\"}],\"collection\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/posts\"}],\"about\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/types/post\"}],\"author\":[{\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/users/46\"}],\"replies\":[{\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/comments?post=13099\"}],\"version-history\":[{\"count\":0,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/posts/13099/revisions\"}],\"wp:featuredmedia\":[{\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/media/13169\"}],\"wp:attachment\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/media?parent=13099\"}],\"wp:term\":[{\"taxonomy\":\"category\",\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/categories?post=13099\"},{\"taxonomy\":\"post_tag\",\"embeddable\":true,\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/tags?post=13099\"}],\"curies\":[{\"name\":\"wp\",\"href\":\"https://api.w.org/{rel}\",\"templated\":true}]},\"_embedded\":{\"author\":[{\"id\":46,\"name\":\"Paul Bouchon\",\"url\":\"\",\"description\":\"\",\"link\":\"https://wp.sitepen.com/blog/author/pbouchon/\",\"slug\":\"pbouchon\",\"avatar_urls\":{\"24\":\"https://secure.gravatar.com/avatar/89cb35910e3b9fed1219d3669a454387?s=24&d=mm&r=g\",\"48\":\"https://secure.gravatar.com/avatar/89cb35910e3b9fed1219d3669a454387?s=48&d=mm&r=g\",\"96\":\"https://secure.gravatar.com/avatar/89cb35910e3b9fed1219d3669a454387?s=96&d=mm&r=g\"},\"yoast_head\":\"<!-- This site is optimized with the Yoast SEO plugin v14.3 - https://yoast.com/wordpress/plugins/seo/ -->\\n<title>Paul Bouchon, Author at SitePen</title>\\n<meta name=\\\"robots\\\" content=\\\"noindex, follow\\\" />\\n<meta property=\\\"og:locale\\\" content=\\\"en_US\\\" />\\n<meta property=\\\"og:type\\\" content=\\\"profile\\\" />\\n<meta property=\\\"og:title\\\" content=\\\"Paul Bouchon, Author at SitePen\\\" />\\n<meta property=\\\"og:url\\\" content=\\\"https://www.sitepen.com/blog/author/pbouchon/\\\" />\\n<meta property=\\\"og:site_name\\\" content=\\\"SitePen\\\" />\\n<meta property=\\\"og:image\\\" content=\\\"https://secure.gravatar.com/avatar/89cb35910e3b9fed1219d3669a454387?s=500&#038;d=mm&#038;r=g\\\" />\\n<meta name=\\\"twitter:card\\\" content=\\\"summary_large_image\\\" />\\n<meta name=\\\"twitter:site\\\" content=\\\"@SitePen\\\" />\\n<script type=\\\"application/ld+json\\\" class=\\\"yoast-schema-graph\\\">{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@graph\\\":[{\\\"@type\\\":\\\"WebSite\\\",\\\"@id\\\":\\\"https://wp.sitepen.com/#website\\\",\\\"url\\\":\\\"https://wp.sitepen.com/\\\",\\\"name\\\":\\\"SitePen\\\",\\\"description\\\":\\\"Enterprise Web Apps Done Right\\\",\\\"potentialAction\\\":[{\\\"@type\\\":\\\"SearchAction\\\",\\\"target\\\":\\\"https://wp.sitepen.com/?s={search_term_string}\\\",\\\"query-input\\\":\\\"required name=search_term_string\\\"}],\\\"inLanguage\\\":\\\"en-US\\\"},{\\\"@type\\\":\\\"ProfilePage\\\",\\\"@id\\\":\\\"https://www.sitepen.com/blog/author/pbouchon/#webpage\\\",\\\"url\\\":\\\"https://www.sitepen.com/blog/author/pbouchon/\\\",\\\"name\\\":\\\"Paul Bouchon, Author at SitePen\\\",\\\"isPartOf\\\":{\\\"@id\\\":\\\"https://wp.sitepen.com/#website\\\"},\\\"inLanguage\\\":\\\"en-US\\\"},{\\\"@type\\\":[\\\"Person\\\"],\\\"@id\\\":\\\"https://wp.sitepen.com/#/schema/person/7a3e92a258cea881b49680a18b593d71\\\",\\\"name\\\":\\\"Paul Bouchon\\\",\\\"image\\\":{\\\"@type\\\":\\\"ImageObject\\\",\\\"@id\\\":\\\"https://wp.sitepen.com/#personlogo\\\",\\\"inLanguage\\\":\\\"en-US\\\",\\\"url\\\":\\\"https://secure.gravatar.com/avatar/89cb35910e3b9fed1219d3669a454387?s=96&d=mm&r=g\\\",\\\"caption\\\":\\\"Paul Bouchon\\\"},\\\"mainEntityOfPage\\\":{\\\"@id\\\":\\\"https://www.sitepen.com/blog/author/pbouchon/#webpage\\\"}}]}</script>\\n<!-- / Yoast SEO plugin. -->\",\"_links\":{\"self\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/users/46\"}],\"collection\":[{\"href\":\"https://wp.sitepen.com/wp-json/wp/v2/users\"}]}}],\"wp:featuredmedia\":[{\"code\":\"rest_post_invalid_id\",\"message\":\"Invalid post ID.\",\"data\":{\"status\":404}}]}}]","headers":[["access-control-allow-headers","Authorization, Content-Type"],["access-control-expose-headers","X-WP-Total, X-WP-TotalPages"],["allow","GET"],["cf-cache-status","DYNAMIC"],["cf-ray","5a774ca5dfd80085-LHR"],["cf-request-id","037e6e3ba200000085a2b8d200000001"],["connection","close"],["content-encoding","gzip"],["content-type","application/json; charset=UTF-8"],["date","Mon, 22 Jun 2020 16:20:55 GMT"],["expect-ct","max-age=604800, report-uri=\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\""],["link","<https://wp.sitepen.com/wp-json/>; rel=\"https://api.w.org/\""],["server","cloudflare"],["set-cookie","__cfduid=de2aee95662a0ad8172ab24a9e63ed2021592842855; expires=Wed, 22-Jul-20 16:20:55 GMT; path=/; domain=.sitepen.com; HttpOnly; SameSite=Lax"],["transfer-encoding","chunked"],["vary","Origin"],["x-content-type-options","nosniff"],["x-robots-tag","noindex"],["x-wp-total","1"],["x-wp-totalpages","1"]]},"type":"Object"}